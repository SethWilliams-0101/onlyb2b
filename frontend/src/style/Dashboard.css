/* ========================= CSS (UPDATED) — create file at: src/style/Dashboard.css ========================= */
/* Modern, mobile-first, fully responsive UI with better small-screen table behavior (card layout),
   improved spacing, accessible focus states, and adaptive grid. */
:root {
  --bg: #f7f9fc;
  --surface: #ffffff;
  --text: #0f172a; /* slate-900 */
  --muted: #64748b; /* slate-500 */
  --line: #e2e8f0; /* slate-200 */
  --soft: #f1f5f9; /* slate-100 */
  --brand: #0ea5e9; /* sky-500 */
  --brand-50: #e0f2fe; /* sky-100-ish */
  --shadow: 0 1px 2px rgba(16,24,40,.06), 0 1px 3px rgba(16,24,40,.1);
}

/* Root */
.db-root { min-height: 100vh; background: linear-gradient(#fff, var(--bg)); color: var(--text); }

/* Topbar */
.db-topbar {
  position: sticky;
  top: 0;
  z-index: 30;
  display: grid;
  grid-template-columns: 1fr auto auto;
  align-items: center;
  gap: 12px;
  min-height: 64px;
  padding: 8px 12px;
  background: rgba(255, 255, 255, .95);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid var(--line);
}
.db-brand { display:flex; align-items:center; gap:10px; min-width:0; }
.db-logo { display:grid; place-items:center; width:32px; height:32px; border-radius:10px; background:#000; color:#fff; font-weight:600; flex-shrink:0; }
.db-brand-text { color:#000; font-weight:600; font-size:14px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

.db-search { position: relative; width:100%; display:flex; align-items:center; }
.db-search input {
  width: 100%;
  padding: 10px 14px 10px 36px;
  border: 1px solid var(--line);
  border-radius: 12px;
  background: #fff;
  font-size: 14px;
  outline: none;
  box-shadow: var(--shadow);
  color: #000;
}
.db-search input::placeholder { color:#555; }
.db-search input:focus { border-color:#bae6fd; box-shadow: 0 0 0 4px #e0f2fe; }
.db-search-icon { position:absolute; left:12px; top:50%; transform: translateY(-50%); color:#555; }

.db-actions { display:flex; align-items:center; gap:8px; justify-self:end; color:#000; }
.btn { display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border:1px solid var(--line); background:#fff; border-radius:12px; font-size:13px; box-shadow: var(--shadow); cursor:pointer; }
.btn:hover { background: var(--soft); }
.btn:focus-visible { outline: 2px solid #38bdf8; outline-offset: 2px; }
.btn:disabled { opacity:.5; cursor:not-allowed; }
.btn span { color: #000; }
.btn-ghost { background:#fff; }
.badge { margin-left:6px; padding:2px 6px; border-radius:999px; font-size:11px; color: var(--brand); background: var(--brand-50); font-weight:600; }
/* Force Lucide icons to be dark for visibility */
.db-search-icon,
.db-actions svg,
.chip-x svg,
.table-footer .btn svg,
.db-table thead th svg {
  color: #0f172a; /* slate-900 dark gray */
}

/* Dark style for logout button */
.btn-out {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  background: #fff;
  cursor: pointer;
  font-size: 14px;
  color: #0f172a; /* text + icon inherit dark color */
  box-shadow: var(--shadow);
}

.btn-out svg {
  color: #0f172a; /* dark icon */
}

.btn-out:hover {
  background: #e2e8f0; /* subtle gray hover background */
}


.db-dropdown { position:relative; }
.menu { position:absolute; right:0; top:calc(100% + 6px); width:min(280px, 90vw); max-height:60vh; overflow:auto; background:#fff; border:1px solid var(--line); border-radius:12px; box-shadow: var(--shadow); padding:8px; }
.menu-title { font-size:13px; font-weight:600; color:#334155; padding:4px 8px 8px; }
.menu-item { display:flex; align-items:center; gap:8px; padding:6px 8px; }
.menu-item:hover { background: var(--soft); border-radius:8px; }
.menu-button { width:100%; text-align:left; padding:10px 12px; color: #000; border-radius:8px; background:transparent; border:0; cursor:pointer; font-size:13px; }
.menu-button:hover { background: var(--soft); }
.menu hr { border:0; border-top:1px solid var(--line); margin:6px 0; }

.show-filters { display:flex; }

/* Layout */
.db-layout { display:grid; grid-template-columns: 1fr; gap:16px; padding:12px; max-width:1280px; margin:0 auto; }
.db-sidebar { display:none; }
.db-main { min-width:0; }

/* KPI cards */
.kpi-grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; }
.kpi-card { background:#fff; border:1px solid var(--line); border-radius:16px; padding:16px; box-shadow: var(--shadow); }
.kpi-title { font-size:11px; color: var(--muted); text-transform: uppercase; letter-spacing:.06em; font-weight:600; }
.kpi-value { margin-top:6px; font-size:22px; font-weight:700; color:#0f172a; }
.pulse { animation: pulse 1.2s infinite ease-in-out; }
@keyframes pulse { 0%{opacity:.5} 50%{opacity:1} 100%{opacity:.5} }

/* Chips */
.chip-row { display:flex; flex-wrap:wrap; gap:8px; margin:12px 0 0; }
.chip { display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border:1px solid #bae6fd; border-radius:999px; background:#f0f9ff; color:#0369a1; font-size:12px; font-weight:600; }
.chip-x { display:inline-grid; place-items:center; width:18px; height:18px; border-radius:999px; background:transparent; border:0; cursor:pointer; }
.link { color:#475569; text-decoration: underline; text-underline-offset: 4px; background:transparent; border:0; cursor:pointer; font-size:12px; }

/* Cards */
.card { background:#fff; border:1px solid var(--line); border-radius:20px; box-shadow: var(--shadow); overflow:hidden; margin-top:16px; }

/* Table */
.table-wrap { max-height: 65vh; overflow:auto; }
.db-table { width:100%; border-collapse: separate; border-spacing:0; font-size:14px; }
.db-table thead th { position: sticky; top: 0; background: rgba(248,250,252,.9); backdrop-filter: blur(4px); border-bottom:1px solid var(--line); padding:12px 16px; text-align:left; font-weight:700; color:#0f172a; cursor:pointer; }
.db-table thead th .th-inner { display:inline-flex; align-items:center; gap:6px; white-space:nowrap; }
.db-table tbody td { padding:12px 16px; border-top:1px solid var(--line); color:#0f172a; white-space:nowrap; }
.db-table tbody tr:hover { background:#f8fafc; }
.cell-link { color:#0369a1; text-decoration: underline; text-underline-offset: 3px; word-break: break-all; }
.error { text-align:center; padding:24px; color:#dc2626; }
.muted { color:#64748b; font-weight:500; margin-left:6px; }

/* Footer */
.table-footer { display:flex; align-items:center; justify-content:space-between; gap:12px; border-top:1px solid var(--line); background:#f8fafc; padding:12px 16px; font-size:14px; flex-wrap:wrap; }
.table-footer .btn { display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; border: 1px solid var(--line); border-radius: 12px; background: #fff; box-shadow: var(--shadow); color: #000; }
.table-footer .btn:disabled { background: #f1f5f9; color: #000; opacity: 0.6; }
.pager { display:flex; align-items:center; gap:8px; }

/* Filter panel (sidebar) */
.panel { background:#fff; border:1px solid var(--line); border-radius:16px; box-shadow: var(--shadow); padding:16px; }
.panel-head { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; gap:8px; }
.filter-block { margin:16px 0; }
.filter-label { font-size:13px; font-weight:600; color:#334155; margin-bottom:8px; }
.filter-options { display:grid; gap:8px; grid-template-columns: repeat(1, minmax(0,1fr)); }
.option { display:flex; align-items:center; gap:8px; font-size:13px; color:#334155; }

.tips { background: linear-gradient(135deg, #f0f9ff, #fff); border:1px solid var(--line); border-radius:12px; padding:12px; font-size:13px; color:#334155; }
.tips ul { margin:6px 0 0 16px; }

/* Drawer (mobile filters) */
.drawer { position: fixed; inset:0; z-index: 40; }
.drawer-backdrop { position:absolute; inset:0; background: rgba(2,6,23,.35); }
.drawer-panel { position:absolute; right:0; top:0; height:100%; width:min(100%, 420px); background:#fff; box-shadow: 0 10px 30px rgba(0,0,0,.12); display:flex; flex-direction:column; }
.drawer-head { display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid var(--line); }
.drawer-body { padding:14px; overflow:auto; height: calc(100% - 50px); }
.icon-btn { border:0; background:transparent; cursor:pointer; border-radius:8px; padding:6px; }
.icon-btn:hover { background:#f1f5f9; }
.icon-btn svg {
  background-color: #e0e5f0;
  color: #0f172a;   /* dark slate icon */
}

/* Skeleton */
.skl { width:96px; height:14px; background:#e2e8f0; border-radius:6px; animation: pulse 1.2s infinite ease-in-out; }

/* ------------ RESPONSIVE ENHANCEMENTS ------------ */
/* Make actions compact on very small phones */
@media (max-width: 420px) {
  .db-actions .btn span { display: none; }
  .db-topbar { grid-template-columns: 1fr auto auto; gap:6px; }
}

/* At >=768px, improve filters grid & KPI layout */
@media (min-width: 768px) {
  .filter-options { grid-template-columns: repeat(2, minmax(0,1fr)); }
  .kpi-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}

/* Desktop layout with persistent sidebar */
@media (min-width: 1024px) {
  .db-layout { grid-template-columns: 300px 1fr; gap: 20px; padding: 16px; }
  .db-sidebar { display: block; }
  .show-filters { display: none; }
  .db-brand-text { display: inline; }
}

/* XL screens */
@media (min-width: 1280px) {
  .db-layout { max-width: 1400px; }
}

/* ------------ TABLE → CARD MODE FOR SMALL SCREENS ------------ */
/* Under 768px, convert the table rows into stacked cards for readability */
@media (max-width: 767.98px) {
  .table-wrap { max-height:none; overflow:visible; }
  .db-table { border-collapse: collapse; }
  .db-table thead { display: none; }
  .db-table tbody tr { display: block; border-top: 1px solid var(--line); padding: 12px; }
  .db-table tbody tr:hover { background: transparent; }
  .db-table tbody td {
    display: grid;
    grid-template-columns: 120px 1fr;
    gap: 10px;
    padding: 6px 0;
    border: 0;
    white-space: normal;
    word-break: break-word;
  }
  .db-table tbody td::before {
    content: attr(data-label);
    font-weight: 600;
    color: #334155;
  }
}
